<div class="data-container">
    <div class="flex justify-content-between">
        <h2>Books</h2>
        <p-button label="Add book" (click)="showAddModal()"></p-button>
    </div>
    <p-table
        [lazy]="true"
        [paginator]="true"
        (onPage)="onPageChange($event)"
        [first]="page"
        [rows]="rows"
        [totalRecords]="totalRecords"
        [value]="Books"
        [tableStyle]="{ 'min-width': '50rem' }"
    >
        <ng-template pTemplate="header">
            <tr>
                <th>Title</th>
                <th>Published</th>
                <th>Genre</th>
                <th>AuthorName</th>
                <th colspan="2">Actions</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-book>
            <div></div>
            <tr>
                <td>{{ book.title }}</td>
                <td>{{ book.publishedDate }}</td>
                <td>{{ book.bookGenre }}</td>
                <td>
                    
                        <a *ngFor="let subItem of book.authors" routerLink="/authors"> {{ subItem.firstName }} {{ subItem.lastName }} |</a>

                </td>

                <td>
                    <p-button label="Edit" (click)="showEditModal(book)"> </p-button>
                </td>
                <td>
                    <p-button label="Delete" (click)="deleteBook(book.id)" severity="danger"></p-button>
                </td>
            </tr>
        </ng-template>
    </p-table>

    <app-book-form [dispalyAddModal]="dispalyAddModal" [editedBook]="editedBook" (clickClose)="hideAddModal($event)"> </app-book-form>
</div>
